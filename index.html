<!DOCTYPE html>
<html lang="en">

<head>

    <meta name="robots" content="noindex">

    <style>
        html {
            width: 100vw;
            height: 100vh;
            padding: 0;
            margin: 0;
            font-size: 14px;
            display: flex;
            flex-wrap: column nowrap;
            align-items: center;
            justify-content: center;
            font-family: Helvetica, Arial, sans-serif;
        }

        #gameboard {
            width: 32rem;
            display: grid;
            gap: 1rem;
            grid-template-columns: repeat(3, 1fr);
            margin-bottom: 1rem;
        }

        input {
            text-align: center;
            text-decoration: none;
        }

        #gameboard input {
            width: 10rem;
            min-height: 10rem;
            font-size: 8rem;
            border: none;
            background-color: aliceblue;
        }

        #gameboard input:hover[available=true] {
            background-color: white;
            border: 0.1rem solid lightblue;
            cursor: pointer;
        }

        #control {
            width: 100%;
            display: flex;
            flex-wrap: column nowrap;
            align-items: flex-start;
            justify-content: center;
        }

        #control input {
            width: 80%;
            font-size: 1.5rem;
            padding: 0.5rem;
            border: 0.2rem solid black;
            background-color: white;
            cursor: pointer;
        }

        #info {
            width: 100%;
            text-align: center;
            font-size: 1.8rem;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }
    </style>

    <script type="text/javascript">

        document.addEventListener('readystatechange', function () {
            if (document.readyState === 'interactive') {
                tictac.setup();
            }
        });

        class tictac {

            static bA0;
            static bA1;
            static bA2;
            static bB0;
            static bB1;
            static bB2;
            static bC0;
            static bC1;
            static bC2;

            static click(id) {
                if (id == 'A0') {
                    this.bA0.setAttribute("value", "X");
                    this.bA0.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'A', 'y': '0' }
                    })
                }
                if (id == "A1") {
                    this.bA1.setAttribute("value", "X");
                    this.bA1.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'A', 'y': '1' }
                    })
                }
                if (id == "A2") {
                    this.bA2.setAttribute("value", "X");
                    this.bA2.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'A', 'y': '2' }
                    })
                }
                if (id == 'B0') {
                    this.bB0.setAttribute("value", "X");
                    this.bB0.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'B', 'y': '0' }
                    })
                }
                if (id == "B1") {
                    this.bB1.setAttribute("value", "X");
                    this.bB1.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'B', 'y': '1' }
                    })
                }
                if (id == "B2") {
                    this.bB2.setAttribute("value", "X");
                    this.bB2.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'B', 'y': '2' }
                    })
                }
                if (id == 'C0') {
                    this.bC0.setAttribute("value", "X");
                    this.bC0.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'C', 'y': '0' }
                    })
                }
                if (id == "C1") {
                    this.bC1.setAttribute("value", "X");
                    this.bC1.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'C', 'y': '1' }
                    })
                }
                if (id == "C2") {
                    this.bC2.setAttribute("value", "X");
                    this.bC2.setAttribute("available", "false");
                    submit({
                        'player': 'X',
                        'move': { 'x': 'C', 'y': '2' }
                    })
                }
            }

            static submit(data) {

                fetch('https://apitictac.t79.app/', {
                    method: 'Post',
                    headers: {
                        'Content-type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                    .then(response => response.json())
                    .then(data => {
                        div.innerHTML = data['board'];
                    })
                    .catch((error) => {
                        console.error('Error', error);
                    })
            }

            static setup() {
                this.bA0 = document.getElementById("A0");
                this.bA1 = document.getElementById("A1");
                this.bA2 = document.getElementById("A2");
                this.bB0 = document.getElementById("B0");
                this.bB1 = document.getElementById("B1");
                this.bB2 = document.getElementById("B2");
                this.bC0 = document.getElementById("C0");
                this.bC1 = document.getElementById("C1");
                this.bC2 = document.getElementById("C2");

                fetch('https://apitictac.t79.app/', {
                    method: 'Post',
                    headers: {
                        'Content-type': 'application/json'
                    },
                    body: JSON.stringify({
                        'player': 'X',
                        'move': '',
                    })
                })
                    .then(response => response.json())
                    .then(data => {
                        div.innerHTML = data['board'];
                    })
                    .catch((error) => {
                        console.error('Error', error);
                    })
            }

        }


    </script>

    <title>Tic Tac</title>

</head>

<body>

    <div id="content-container">

        <form>

            <div id="gameboard">
                <input id="A0" available="true" type="button" value="" onclick="tictac.click('A0')">
                <input id="A1" available="true" type="button" value="" onclick="tictac.click('A1')">
                <input id="A2" available="true" type="button" value="" onclick="tictac.click('A2')">
                <input id="B0" available="true" type="button" value="" onclick="tictac.click('B0')">
                <input id="B1" available="true" type="button" value="" onclick="tictac.click('B1')">
                <input id="B2" available="true" type="button" value="" onclick="tictac.click('B2')">
                <input id="C0" available="true" type="button" value="" onclick="tictac.click('C0')">
                <input id="C1" available="true" type="button" value="" onclick="tictac.click('C1')">
                <input id="C2" available="true" type="button" value="" onclick="tictac.click('C2')">
            </div>

            <div id="info">
                X's Turn
            </div>

            <div id="control">
                <input id="get-board" type="button" value="Update Gameboard" onclick="tictac.getBoard()">
            </div>
        </form>

        <div id="content-column">

        </div>

    </div>



</body>

</html>